## 1、请求资源优化

### 1-0 实践

tools/generate.config.cjs：资源上传到bucket路径

vite.config.js：vite项目请求资源路径

![image-20250512110211259](./assets/image-20250512110211259.png)

原来的资源保存在bucket中的 `项目/年/月/日/下`，现在改成 `项目/年`

vite打包资源，只有在文件内容改变的时候才会生成新的文件名，访问的时候才会请求新的资源

- 每次请求资源 源站 =》 cdn节点 =》浏览器缓存

- 这样可以提高资源的命中率，减少资源请求的时间

### 1-1知识点：查看资源是否命中源站或者cdn节点

公司资源上传到七牛云

![image-20250512141435800](./assets/image-20250512141435800.png)

x-qnm-cache的值

- **`Hit`**
  表示请求的资源已存在于CDN节点缓存中，直接由边缘节点响应，无需回源（如中的`X-Qnm-Cache: Hit`）。
- **`Miss`**
  表示CDN节点未缓存该资源，需向源站拉取数据并可能更新缓存（如中的`X-Qnm-Cache: Miss`）。

### 1-2 发现的问题：爱学网手机端ai-learn-mobile-student这个项目，打包后dist每一次的hash会变化，更新到七牛云每一次的资源都是变化的

## 2、项目优化

css、js、pretter

变成优化

各种lint

